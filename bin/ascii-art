#!/usr/bin/env bash
###############################################################################
# ascii-art - a bask script
#
# Add this script and bask to your $PATH. For usage information, run:
# ascii-art help
###############################################################################

source "$(which bask)"

desc "HELP_HEADER" <<EOM
                     .__.__                         __
_____    ______ ____ |__|__|         _____ ________/  |_
\__  \\\\  /  ___// ___\\\\|  |  |  ______ \\\\__  \\\\\\\\_  __ \\\\   __\\\\
 / __ \\\\_\\\\___ \\\\\\  \\\\___|  |  | /_____/  / __ \\\\|  | \\\\/|  |
(____  /____  >\\___  >__|__|         (____  /__|   |__|
     \\\\/     \\\\/     \\\\/                     \\\\/

Command line bookmarks for ascii art utilities.
EOM

# ---------------------------------------------------------------------- figlet

_figlet_ABOUT="
About Figlet:
  FIGlet is a program for making large letters out of ordinary text

  http://www.figlet.org/
"
_figlet_CMD="$(which figlet)"
desc "figlet" <<EOM
Usage: figlet [ -cklnoprstvxDELNRSWX ] [ -d fontdirectory ]
              [ -f fontfile ] [ -m smushmode ] [ -w outputwidth ]
              [ -C controlfile ] [ -I infocode ] [ message ]
${_figlet_ABOUT}
EOM
figlet() {
  if [[ -z "$1" ]]; then
    "${_figlet_CMD}"
  else
    "${_figlet_CMD}" "${@}"
  fi
}

# ---------------------------------------------------------------------- figlist

_figlist_CMD="$(which figlist)"
desc "figlist" <<EOM
Usage:
  figlist [ -d directory ]

Description:
  Lists figlet fonts and control files.
${_figlet_ABOUT}
EOM
figlist() {
  if [[ -z "$1" ]]; then
    "${_figlist_CMD}"
  else
    "${_figlist_CMD}" "${@}"
  fi
}

# ------------------------------------------------------------------------ jp2a

_jp2a_ABOUT="
About jp2a:
  jp2a is a small utility that converts JPG images to ASCII.
  It's written in C and released under the GPL.

  http://csl.sublevel3.org/jp2a/
"
_jp2a_CMD="$(which jp2a)" || _die \
  printf \
    "jp2a not installed. %s\n" \
    "${_jp2a_ABOUT}"
_jp2a_HELP="$("${_jp2a_CMD}" --help 2>&1)"
desc "jp2a" <<EOM
${_jp2a_HELP}
${_jp2a_ABOUT}
EOM
jp2a() {
  if [[ -z "$1" ]]; then
    "${_jp2a_CMD}"
  else
    "${_jp2a_CMD}" "${@}"
  fi
}

# --------------------------------------------------------------------- mplayer

_mplayer_ABOUT="
About MPlayer:
  MPlayer is a free software and open source media player.

  http://www.mplayerhq.hu/
  https://en.wikipedia.org/wiki/MPlayer

  AAlib:
    AAlib is a software library which allows applications to automatically
    convert still and moving images into ASCII art.

    http://aa-project.sourceforge.net/aalib/
    https://en.wikipedia.org/wiki/AAlib

  Libcaca:
    libcaca is a graphics library that outputs text instead of pixels, so that
    it can work on older video cards or text terminals.

    http://caca.zoy.org/wiki/libcaca

  See also:
    http://archive.oreilly.com/pub/h/4441
"
_mplayer_CMD="$(which mplayer)" || _die \
  printf \
    "MPlayer not installed. %s\n" \
    "${_mplayer_ABOUT}"
desc "mplayer" <<EOM
Usage:
  mplayer -vo aa <video> [<options>]
  mplayer -vo caca <video> [<options>]

Options:
  -vo aa    AAlib output.
  -vo caca  Libcaca output.

Description:
  Display video as text in terminal.
${_mplayer_ABOUT}
EOM
mplayer() {
  if [[ -z "$1" ]]; then
    _print_desc "mplayer"
  else
    "${_mplayer_CMD}" "${@}"
  fi
}

# ---------------------------------------------------------------- showfigfonts

_showfigfonts_CMD="$(which showfigfonts)"
desc "showfigfonts" <<EOM
Usage:
  showfigfonts [ -d directory ] [ word ]

Description:
  Prints a list of available figlet fonts.
${_figlet_ABOUT}
EOM
showfigfonts() {
  if [[ -z "$1" ]]; then
    "${_showfigfonts_CMD}"
  else
    "${_showfigfonts_CMD}" "${@}"
  fi
}

_init
