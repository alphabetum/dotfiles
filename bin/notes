#!/usr/bin/env bash
###############################################################################
# notes - a bask script
#
# Get bask:
#   https://github.com/alphabetum/bask
#
# Add this script and the bask program to your $PATH.
#
# For usage information, run:
#   notes help
###############################################################################

source "$(which bask)"

###############################################################################
# Setup
###############################################################################
export NOTES_DIR="${HOME}/.notes"

if [[ ! -e "${NOTES_DIR}" ]]
then # `$NOTES_DIR` doesn't exist.
  mkdir -p "${NOTES_DIR}"
fi

########################################################################### add
desc "add" <<EOM
Usage:
  $_ME add

Description:
  Write a new note.
EOM
add() {
  # Assign filename with unicode timestamp.
  local _filename
  _filename="${NOTES_DIR}/$(date -u "+%Y%m%d%H%M%S").md"

  if _interactive_input
  then
    echo "$*" >> "${_filename}"
  else
    cat >> "${_filename}"
  fi
}

_init
