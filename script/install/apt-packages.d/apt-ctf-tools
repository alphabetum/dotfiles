#!/usr/bin/env bash
###############################################################################
# apt-ctf-tools
#
# https://github.com/ctfs/write-ups
###############################################################################

###############################################################################
# Platform Check
###############################################################################

if ! hash "apt-get" 2>/dev/null
then
  printf "apt-packages requires APT.\nSkipping...\n"
  exit 0
fi

###############################################################################
# Packages
###############################################################################

# binwalk
#
# Binwalk is a tool for searching a given binary image for embedded files and
# executable code. Specifically, it is designed for identifying files and
# code embedded inside of firmware images. Binwalk uses the libmagic library,
# so it is compatible with magic signatures created for the Unix file utility.
#
# Binwalk also includes a custom magic signature file which contains improved
# signatures for files that are commonly found in firmware images such as
# compressed/archived files, firmware headers, Linux kernels, bootloaders,
# filesystems, etc.
#
# https://github.com/devttys0/binwalk
# http://binwalk.org/
sudo apt-get install -y binwalk

# cifer
#
# Cifer provides many functions designed to aid in cracking classical ciphers;
# a group of ciphers used historically, but which have now fallen into disuse
# because of their suceptability to ciphertext-only attacks. In general, they
# were designed and implemented by hand, and operate on an alphabet of letters
# (such as [A-Z]).
#
# It operates using text files as input and output, and can perform both brute
# force and other, more sophisticated, attacks against many classic encryption
# schemes. In addition, it provides many utilities such as frequency analysis
# and automated encryption/decryption of texts.
#
# http://code.google.com/p/cifer/
sudo apt-get install -y cifer

# Dns2tcp
#
# TCP over DNS tunnel client and server
#
# dns2tcp is a set of tools allowing to encapsulate a TCP session in DNS
# packets. This type of encapsulation generates smaller packets compeared to
# ip-over-DNS tools, thus allows a better throughput. The client does not
# need root priledges.
#
# http://www.hsc.fr/ressources/outils/dns2tcp/
sudo apt-get install -y dns2tcp

# FCrackZip
#
# password cracker for zip archives
#
# fcrackzip is a fast password cracker partly written in assembler. It is able
# to crack password protected zip files with brute force or dictionary based
# attacks, optionally testing with unzip its results. It can also crack
# cpmask'ed images.
#
# http://freshmeat.net/projects/fcrackzip
# http://oldhome.schmorp.de/marc/fcrackzip.html
sudo apt-get install -y fcrackzip

# Foremost
#
# forensic program to recover lost files
#
# Foremost is a forensic program to recover lost files based on their headers,
# footers, and internal data structures.
#
# Foremost can work on image files, such as those generated by dd, Safeback,
# Encase, etc, or directly on a drive. The headers and footers can be
# specified by a configuration file or you can use command line switches to
# specify built-in file types. These built-in types look at the data
# structures of a given file format allowing for a more reliable and faster
# recovery.
#
# http://foremost.sourceforge.net/
sudo apt-get install -y foremost

# Hydra
#
# very fast network logon cracker
#
# Hydra is a parallelized login cracker which supports numerous protocols to
# attack. It is very fast and flexible, and new modules are easy to add.
#
# This tool makes it possible for researchers and security consultants to show
# how easy it would be to gain unauthorized access to a system remotely.
#
# It supports: Cisco AAA, Cisco auth, Cisco enable, CVS, FTP,
# HTTP(S)-FORM-GET, HTTP(S)-FORM-POST, HTTP(S)-GET, HTTP(S)-HEAD, HTTP-Proxy,
# ICQ, IMAP, IRC, LDAP, MS-SQL, MySQL, NNTP, Oracle Listener, Oracle SID,
# PC-Anywhere, PC-NFS, POP3, PostgreSQL, RDP, Rexec, Rlogin, Rsh, SIP,
# SMB(NT), SMTP, SMTP Enum, SNMP v1+v2+v3, SOCKS5, SSH (v1 and v2), SSHKEY,
# Subversion, Teamspeak (TS2), Telnet, VMware-Auth, VNC and XMPP.
#
# http://freeworld.thc.org/thc-hydra/
sudo apt-get install -y hydra

# john
#
# active password cracking tool
#
# John the Ripper is a tool designed to help systems administrators to find
# weak (easy to guess or crack through brute force) passwords, and even
# automatically mail users warning them about it, if it is desired.
#
# Besides several crypt(3) password hash types most commonly found on various
# Unix flavors, supported out of the box are Kerberos AFS and Windows
# NT/2000/XP/2003 LM hashes, plus several more with contributed patches.
#
# http://www.openwall.com/john/
sudo apt-get install -y john

# knockd
#
# small port-knock daemon
#
# A port-knock server that listens to all traffic on a given network interface
# (only Ethernet and PPP are currently supported), looking for a special
# "knock" sequences of port-hits. A remote system makes these port-hits by
# sending a TCP (or UDP) packet to a port on the server. When the server
# detects a specific sequence of port-hits, it runs a command defined in its
# configuration file. This can be used to open up holes in a firewall
# for quick access.
#
# http://www.zeroflux.org/cgi-bin/cvstrac.cgi/knock/wik
sudo apt-get install -y knockd

# nmap
#
#  Nmap is a utility for network exploration or security auditing. It supports
# ping scanning (determine which hosts are up), many port scanning techniques,
# version detection (determine service protocols and application versions
# listening behind ports), and TCP/IP fingerprinting (remote host OS or device
# identification). Nmap also offers flexible target and port specification,
# decoy/stealth scanning, sunRPC scanning, and more. Most Unix and Windows
# platforms are supported in both GUI and commandline modes. Several popular
# handheld devices are also supported, including the Sharp Zaurus and the iPAQ.
#
# http://nmap.org/
sudo apt-get install -y nmap

# pngcheck
#
# print info and check PNG, JNG and MNG files
#
# pngcheck verifies the integrity of PNG, JNG and MNG files (by checking the
# internal 32-bit CRCs or checksums) and optionally dumps almost all of the
# chunk-level information in the image in human-readable form. For example,
# it can be used to print the basic stats about an image (dimensions, bit
# depth, etc.); to list the color and transparency info in its palette; or to
# extract the embedded text annotations. All PNG and JNG chunks are supported,
# plus almost all MNG chunks (everything but PAST, DISC, tERm, DROP, DBYK, and
# ORDR). This is a command-line program with batch capabilities (e.g.,
# pngcheck *.png).
#
# Also includes pngsplit which can split a PNG, MNG or JNG file into
# individual, numbered chunks.
#
# http://www.libpng.org/pub/png/apps/pngcheck.html
# http://freshmeat.net/projects/pngcheck
sudo apt-get install -y pngcheck

# socat
#
# multipurpose relay for bidirectional data transfer
#
# Socat (for SOcket CAT) establishes two bidirectional byte streams and
# transfers data between them. Data channels may be files, pipes, devices
# (terminal or modem, etc.), or sockets (Unix, IPv4, IPv6, raw, UDP, TCP,
# SSL). It provides forking, logging and tracing, different modes for
# interprocess communication and many more options.
#
# It can be used, for example, as a TCP relay (one-shot or daemon), as an
# external socksifier, as a shell interface to Unix sockets, as an IPv6 relay,
# as a netcat and rinetd replacement, to redirect TCP-oriented programs to a
# serial line, or to establish a relatively secure environment (su and chroot)
# for running client or server shell scripts inside network connections. Socat
# supports sctp as of 1.7.0.
#
# http://www.dest-unreach.org/socat/
sudo apt-get install -y socat

# sqlmap
#
# automatic SQL injection tool
#
# sqlmap goal is to detect and take advantage of SQL injection vulnerabilities
# in web applications. Once it detects one or more SQL injections on the
# target host, the user can choose among a variety of options to perform an
# extensive back-end database management system fingerprint, retrieve DBMS
# session user and database, enumerate users, password hashes, privileges,
# databases, dump entire or user's specific DBMS tables/columns, run his
# own SQL statement, read specific files on the file system and more.
#
# http://sqlmap.org/
sudo apt-get install -y sqlmap

# tcpflow
#
# TCP flow recorder
#
# tcpflow is a program that captures data transmitted as part of TCP
# connections (flows), and stores the data in a way that is convenient for
# protocol analysis or debugging. A program like 'tcpdump' shows a summary of
# packets seen on the wire, but usually doesn't store the data that's actually
# being transmitted. In contrast, tcpflow reconstructs the actual data streams
# and stores each flow in a separate file for later analysis.
#
# tcpflow understands sequence numbers and will correctly reconstruct data
# streams regardless of retransmissions or out-of-order delivery. However, it
# currently does not understand IP fragments; flows containing IP fragments
# will not be recorded properly.
#
# tcpflow is based on the LBL Packet Capture Library and therefore supports
# the same rich filtering expressions that programs like 'tcpdump' support.
# tcpflow can also rebuild flows from data captured with 'tcpdump -w'.
#
# https://github.com/simsong/tcpflow
sudo apt-get install -y tcpflow

# Tcpreplay
#
# Tool to replay saved tcpdump files at arbitrary speeds
#
# Tcpreplay is aimed at testing the performance of a NIDS by replaying real
# background network traffic in which to hide attacks. Tcpreplay allows you to
# control the speed at which the traffic is replayed, and can replay arbitrary
# tcpdump traces. Unlike programmatically-generated artificial traffic which
# doesn't exercise the application/protocol inspection that a NIDS performs,
# and doesn't reproduce the real-world anomalies that appear on production
# networks (asymmetric routes, traffic bursts/lulls, fragmentation,
# retransmissions, etc.), tcpreplay allows for exact replication of real
# traffic seen on real networks.
#
# http://tcpreplay.synfin.net/
sudo apt-get install -y tcprelay

# tcptrace
#
# Tool for analyzing tcpdump output
#
# Tcptrace is a tool for analyzing and reporting on tcpdump (or other libpcap)
# dump files. It can summarize the data or generate graph data for use with
# the gnuplot tool from the gnuplot package. Graph data can be created for
# throughput, RTT, time sequences, segment size, and cwin.
#
# http://www.tcptrace.org/
sudo apt-get install -y tcptrace

# ucspi-tcp
#
# tcpserver and tcpclient are easy-to-use command-line tools for building TCP
# client-server applications.
#
# http://cr.yp.to/ucspi-tcp.html
sudo apt-get install -y ucspi-tcp
